<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			
			#slider {
			    margin: 0px auto;
			    padding: 0px;
			    width: 400px;
			    border: 1px solid #000;
			    background: #0f0;
			    height: 20px;
			    overflow: hidden;
			}
		</style>
	</head>
<body>
	<h1> Toggle Slide </h1>
	<input type="button" id="slide" value=" Slide Down ">
	<span id="log" style="position:absolute; left:10px; top:150px;"></span>
	<br>
    <div id="slider" style="height: 20px;">
        content goes here
    </div>
		<script type="text/javascript">
			var minheight = 20;
			var maxheight = 100;
			var time = 1000;
			var timer = null;
			var toggled = false;
			
			window.onload = function(){
				var slider = document.getElementById("slider");
				var controler = document.getElementById("slide");
				slider.style.height = minheight + 'px';
				
				controler.onclick = function(){
					//会改变的值，第一个是点击的时候时间
					//第二个改变的来回的值
					//第三个改变后的高度
					var initTime = (new Date()).getTime();
					var endHeight = (toggled =!toggled) ? maxheight: minheight;
					var initHeight = parseInt(slider.style.height);
					var dispHeight = endHeight - initHeight;
					
					timer = setInterval(function(){
						var dispTime = (new Date()).getTime() - initTime;
						if(dispTime < 1000){
							slider.style.height = initHeight + Math.floor(dispHeight * dispTime/1000) + 'px';
						}else{
							slider.style.height = endHeight + 'px';
							clearInterval(timer)
						}
					},30)
				}
				
			}
		</script>
	</body>
</html>
